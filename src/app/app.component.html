<app-signin *ngIf="!(user$|async)"></app-signin>


<main [@stagger-tile] *ngIf="!!(user$|async) && resourcesS && resourcesS.resourcesLoaded && loadAnimation.boolFinishLoad">

<!--
<main *ngIf="(user$|async) && loadAnimation.boolFinishLoad">
  -->

  <div *ngIf="loadingImage">
    <!--<img class="image_loading" src="../assets/space2.png" />  -->
    <img class="gif_loading" src="../assets/ecran chargement.gif" />
    <div id="overlay"></div>
  </div>

  <!-- Ship -->
  <app-ship-view story="0" class="ship border tile"></app-ship-view>

  <!-- QG -->
  <app-qg-view story="1" class="qg border tile"></app-qg-view>

  <!-- Upgrades -->
  <app-upgrade-list story="2" class="upgrade tile"></app-upgrade-list>

  <!-- Asteroid -->
  <app-asteroid-view story="4" class="asteroid border tile"></app-asteroid-view>

  <!-- Ore -->
  <app-ore-list story="3" class="ore tile"></app-ore-list>

  <!-- Mining Rate -->
  <app-asteroid-mining story="4" class="mining border tile"></app-asteroid-mining>

  <!-- Search -->
  <app-search-view class="search border tile"></app-search-view>

  <!-- TopBar -->
  <app-topbar class="topbar tile"></app-topbar>

  <!-- Market -->
  <app-market-list class="market tile"></app-market-list>  

  <ng-toaster></ng-toaster>
  <story-state></story-state>
</main>